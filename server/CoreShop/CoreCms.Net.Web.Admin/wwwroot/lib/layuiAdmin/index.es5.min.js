"use strict";layui.extend({setter:"config",admin:"lib/admin",view:"lib/view",breadcrumb:"controller/breadcrumb"}).define(["setter","admin","breadcrumb"],function(n){var t=layui.setter,e=layui.element,i=layui.admin,u=i.tabsPage,o=layui.view,f=function f(){var a=layui.router(),n=a.path,s=i.correctRouter(a.path.join("/")),v;return n.length||(n=[""]),""===n[n.length-1]&&(n[n.length-1]=t.entry),v=function(){f.haveInit&&r(".layui-layer").each(function(){var n=r(this),t=n.attr("times");n.hasClass("layui-layim")||layer.close(t)});f.haveInit=!0;r(h).scrollTop(0);delete u.type},"tab"===u.type&&("/"!==s||"/"===s&&i.tabsBody().html())?(i.tabsBodyChange(u.index),v(u.type)):(o().render(n.join("/")).then(function(n){var f,o=r("#LAY_app_tabsheader>li");o.each(function(n){var t=r(this),i=t.attr("lay-id");i===s&&(f=!0,u.index=n)});t.pageTabs&&"/"!==s&&(f||(r(h).append('<div class="layadmin-tabsbody-item layui-show"><\/div>'),u.index=o.length,e.tabAdd(c,{title:"<span>"+(n.title||"新标签页")+"<\/span>",id:s,attr:a.href})));this.container=i.tabsBody(u.index);t.pageTabs||this.container.scrollTop(0);e.tabChange(c,s);i.tabsBodyChange(u.index)}).done(function(){layui.use("common",layui.cache.callback.common);l.on("resize",layui.data.resize);e.render("breadcrumb","breadcrumb");i.tabsBody(u.index).on("scroll",function(){var t=r(this),n=r(".layui-laydate"),i=r(".layui-layer")[0];n[0]&&(n.each(function(){var n=r(this);n.hasClass("layui-laydate-static")||n.remove()}),t.find("input").blur());i&&layer.closeAll("tips")})}),void v())},s=function(){var r,u=layui.router(),e=o(t.container),n=i.correctRouter(u.path.join("/")),s;if(layui.each(t.indPage,function(t,i){if(n===i)return r=!0}),layui.config({base:t.base+"controller/"}),r||"/user/login"===n)e.render(u.path.join("/")).done(function(){i.pageType="alone"});else{if(t.interceptor&&(s=layui.data(t.tableName),!s[t.request.tokenName]))return location.hash="/user/login/redirect="+encodeURIComponent(n);"console"===i.pageType?f():e.render("layout").done(function(){f();layui.element.render();i.screen()<2&&i.sideFlexible();i.pageType="console"})}},h="#LAY_app_body",c="layadmin-layout-tabs",r=layui.$,l=r(window);layui.link(t.base+"style/admin.css?v="+(i.v+"-1"),function(){s()},"layuiAdmin");window.onhashchange=function(){s();layui.event.call(this,t.MOD_NAME,"hash({*})",layui.router())};layui.each(t.extend,function(n,i){var r={},u=t.extend.constructor===Array;r[u?i:n]="{/}"+t.base+"lib/extend/"+i;layui.extend(r)});n("index",{render:f})});